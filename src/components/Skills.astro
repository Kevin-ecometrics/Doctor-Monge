---
let skills_en = [
  { name: "Hip and knee arthroplasty", percentage: "10%" },
  { name: "Shoulder and knee arthroscopy", percentage: "10%" },
  { name: "Spine surgery", percentage: "10%" },
];

let skills_es = [
  { name: "Artroplastia de cadera y rodilla", percentage: "10%" },
  { name: "Artroscopia de hombro y rodilla", percentage: "10%" },
  { name: "Cirugía de columna", percentage: "10%" },
];

const { URL } = Astro.props;
---

<main class="flex flex-col sm:flex-row lg:h-screen items-center py-4 sm:py-16">
  <div
    class="grid grid-cols-1 lg:grid-cols-2 px-8 py-16 sm:px-8 lg:w-[80%] mx-auto gap-4 lg:gap-12"
  >
    <div
      class="border-b border-l border-t border-white w-80 md:w-[80%] lg:w-[70%] lg:h-[450px] sm:h-auto"
    >
      <div class="flex justify-center items-center gap-2 sm:gap-4">
        <h1 class="font-medium text-[100px] sm:text-[170px]">6</h1>
        <div class="relative top-5 sm:top-10">
          <svg
            width="44"
            height="43"
            viewBox="0 0 47 46"
            fill="none"
            xmlns="http://www.w3.org/2000/svg"
          >
            <path
              d="M17.8651 45.4524V0.19673H29.3068V45.4524H17.8651ZM0.958097 28.5455V17.1037H46.2138V28.5455H0.958097Z"
              fill="#005692"></path>
          </svg>
        </div>
      </div>

      <div
        class="flex flex-col justify-end items-end mb-4 sm:mb-8 px-3 sm:px-6"
      >
        <h2 class="text-[16px] sm:text-[20px] font-bold">
          {URL ? "Years" : "Años"}
        </h2>
        <h2 class="text-[16px] sm:text-[20px] font-bold">
          {URL ? "of orthopedic" : "de práctica"}
        </h2>
        <h2 class="text-[16px] sm:text-[20px] font-bold">
          {URL ? "and trauma" : "ortopédica y"}
        </h2>
        <h2 class="text-[16px] sm:text-[20px] font-bold">
          {URL ? "practice" : "traumatológica"}
        </h2>
        <div class="flex justify-between items-end gap-2 sm:gap-4">
          <div class="border-b border-white w-28 lg:w-16"></div>
          <h2 class="text-[16px] sm:text-[20px] font-bold">
            {URL ? "helping patients" : "aliviando a pacientes"}
          </h2>
        </div>
      </div>
    </div>
    <div class="lg:py-0 py-4">
      <h2 class="text-[30px] md:text-[35px] font-semibold text-wrap">
        {
          URL
            ? "About my practice as an orthopedic-traumatologist"
            : "Sobre mi práctica como traumatólogo-ortopedista"
        }
      </h2>

      <h3 class="font-bold text-[#969596] text-[18px] mb-2">
        {
          URL
            ? "I'm the kind of doctor who takes interest in understanding your particular case and guiding you through your illness or injury to begin together with the ideal treatment for you. Being the orthopedic surgeon who is close to you in Tijuana and San Diego."
            : "Soy el tipo de médico que se interesa conocer tu caso particular y acompañarte a comprender tu enfermedad o lesión para comenzar juntos con el tratamiento ideal para tí. Ser el médico Ortopedista que está cerca de ti en Tijuana y San Diego."
        }
      </h3>
      <h2 class="text-[22px] font-semibold">
        {
          URL
            ? "Specialized areas in orthopedic surgery"
            : "Áreas destacadas en cirugía ortopédica"
        }
      </h2>
      <div class="py-4 lg:py-8 mb-8">
        {
          (URL ? skills_en : skills_es).map((skill) => (
            <>
              <h2 class="mb-1 text-lg font-medium ">{skill.name}</h2>
              <div class="lg:w-96 bg-gray-200 rounded-full h-2.5 mb-4 ">
                <div
                  class="bg-blue-600 h-2.5 rounded-full animate-width"
                  style={`width: ${skill.percentage}`}
                />
              </div>
            </>
          ))
        }
      </div>
    </div>
  </div>
</main>

<script>
  document.addEventListener("DOMContentLoaded", function () {
    var elements = document.querySelectorAll(".animate-width"); // Selecciona todos los elementos con la clase animate-width
    var observer = new IntersectionObserver(
      function (entries) {
        entries.forEach((entry) => {
          if (entry.isIntersecting === true)
            entry.target.classList.add("animate-width");
          else entry.target.classList.remove("animate-width");
        });
      },
      { threshold: [0] }
    );

    elements.forEach((element) => {
      observer.observe(element);
    });
  });
</script>

<style>
  @keyframes increase {
    0% {
      width: 10%;
    }
    100% {
      width: 100%;
    }
  }

  .animate-width {
    animation: increase 2s linear forwards;
  }
</style>
